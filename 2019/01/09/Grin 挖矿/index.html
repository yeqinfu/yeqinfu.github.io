<!DOCTYPE html>
<html lang="en">
<head><meta name="generator" content="Hexo 3.9.0">
  <meta charset="utf-8">
  
  <title>Grin 挖矿 | Vencent Blog</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="Grin 挖矿环境 ubuntu16 N卡驱动410 cudatoolkit10  安装节点 安装1.31+版本RUST 1curl https://sh.rustup.rs -sSf | sh; source $HOME/.cargo/env  安装Grin Node所需依赖软件包 1sudo apt install build-essential cmake git libgit2-dev c">
<meta name="keywords" content="block-chain">
<meta property="og:type" content="article">
<meta property="og:title" content="Grin 挖矿">
<meta property="og:url" content="http://yoursite.com/2019/01/09/Grin 挖矿/index.html">
<meta property="og:site_name" content="Vencent Blog">
<meta property="og:description" content="Grin 挖矿环境 ubuntu16 N卡驱动410 cudatoolkit10  安装节点 安装1.31+版本RUST 1curl https://sh.rustup.rs -sSf | sh; source $HOME/.cargo/env  安装Grin Node所需依赖软件包 1sudo apt install build-essential cmake git libgit2-dev c">
<meta property="og:locale" content="default">
<meta property="og:image" content="https://ws1.sinaimg.cn/large/c1b251b3gy1fz2peq3eq1j20k10boq38.jpg">
<meta property="og:image" content="https://ws2.sinaimg.cn/large/c1b251b3gy1fz2q2ivb9fj210d0aodgf.jpg">
<meta property="og:image" content="https://ws2.sinaimg.cn/large/c1b251b3gy1fz2q3m78ioj20kb06waae.jpg">
<meta property="og:image" content="https://wx4.sinaimg.cn/large/c1b251b3gy1fz2q78f14zj20hf04z74k.jpg">
<meta property="og:image" content="https://wx3.sinaimg.cn/large/c1b251b3gy1fz2qci9uuzj20gw05tt91.jpg">
<meta property="og:updated_time" content="2024-11-18T05:41:34.317Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Grin 挖矿">
<meta name="twitter:description" content="Grin 挖矿环境 ubuntu16 N卡驱动410 cudatoolkit10  安装节点 安装1.31+版本RUST 1curl https://sh.rustup.rs -sSf | sh; source $HOME/.cargo/env  安装Grin Node所需依赖软件包 1sudo apt install build-essential cmake git libgit2-dev c">
<meta name="twitter:image" content="https://ws1.sinaimg.cn/large/c1b251b3gy1fz2peq3eq1j20k10boq38.jpg">
  
    <link rel="alternate" href="/atom.xml" title="Vencent Blog" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.ico">
  
  <link rel="stylesheet" href="/css/typing.css">
</head>
</html>
  
    <body>
  
      <div id="container" class="container">
        <article id="post-Grin 挖矿" class="article article-type-post" itemscope itemprop="blogPost">
  <header id="header" class="header">
  <nav id="main-nav" class="main-nav">
    
      <a class="main-nav-link" href="/">Home</a>
    
      <a class="main-nav-link" href="/archives">Archives</a>
    
      <a class="main-nav-link" href="/about">About</a>
    
  </nav>
  <nav id="sub-nav">
    
      <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
    
  </nav>
</header>

  <hr/>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      Grin 挖矿
    </h1>
  

      </header>
    
    <div class="article-entry typo" itemprop="articleBody">
      
        <h3 id="Grin-挖矿"><a href="#Grin-挖矿" class="headerlink" title="Grin 挖矿"></a>Grin 挖矿</h3><h4 id="环境"><a href="#环境" class="headerlink" title="环境"></a>环境</h4><ul>
<li>ubuntu16</li>
<li>N卡驱动410</li>
<li>cudatoolkit10</li>
</ul>
<h4 id="安装节点"><a href="#安装节点" class="headerlink" title="安装节点"></a>安装节点</h4><ul>
<li><p>安装1.31+版本RUST</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl https://sh.rustup.rs -sSf | sh; source $HOME/.cargo/env</span><br></pre></td></tr></table></figure>
</li>
<li><p>安装Grin Node所需依赖软件包</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt install build-essential cmake git libgit2-dev clang libncurses5-dev libncursesw5-dev zlib1g-dev pkg-config libssl-dev llvm</span><br></pre></td></tr></table></figure>
</li>
<li><p>安装Grin node.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git clone https://github.com/mimblewimble/grin.git</span><br><span class="line">cd grin</span><br><span class="line">cargo build --release</span><br></pre></td></tr></table></figure>
</li>
<li><p>添加grin命令环境变量</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">export PATH=/&lt;yourPath&gt;/grin/target/release:$PATH</span><br></pre></td></tr></table></figure>
<blockquote>
<p>build 之后的产物，在grin/target/release里面，把里面的可执行文件添加到全局变量</p>
</blockquote>
</li>
<li><p>添加grin-server.toml文件到grin文件夹</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">grin —floonet server config</span><br></pre></td></tr></table></figure>
<blockquote>
<p>grin文件夹下执行上诉命令，会生成配置文件，名字就是grin-server.toml</p>
</blockquote>
</li>
<li><p>修改生成的配置文件</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">enable_stratum_server = true</span><br></pre></td></tr></table></figure>
<blockquote>
<p>找打这行改成true</p>
</blockquote>
</li>
<li><p>启动节点</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">grin —floonet</span><br></pre></td></tr></table></figure>
<blockquote>
<p>后面的参数表示测试网，主网上线后，就不加这个参数启动节点</p>
</blockquote>
</li>
</ul>
<p><img src="https://ws1.sinaimg.cn/large/c1b251b3gy1fz2peq3eq1j20k10boq38.jpg" alt="image"></p>
<blockquote>
<p>上图为节点显示信息，这个命令窗不要关闭，保持节点运行</p>
</blockquote>
<h4 id="钱包创建"><a href="#钱包创建" class="headerlink" title="钱包创建"></a>钱包创建</h4><ul>
<li><p>另起一个窗口，钱包初始化</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">grin --floonet wallet init</span><br></pre></td></tr></table></figure>
<blockquote>
<p>注意另起窗口后，要确认grin是否像刚才上一步那样加到全局变量</p>
<p>生成的助记词要保存下来，用来钱包恢复执行此命令后在~/.grin目录下有相应的产物，包括钱包种子子类的东西</p>
</blockquote>
</li>
<li><p>钱包监听</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">grin --floonet wallet listen</span><br></pre></td></tr></table></figure>
<blockquote>
<p>钱包监听是负责挖矿到账的监听，所以这个窗口也不能关闭</p>
</blockquote>
</li>
</ul>
<h4 id="旷工创建"><a href="#旷工创建" class="headerlink" title="旷工创建"></a>旷工创建</h4><ul>
<li><p>再启动一个窗口，下载旷工软件依赖</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt install make libncurses5-dev libncursesw5  zlib1g-dev linux-headers-$(uname -r)</span><br></pre></td></tr></table></figure>
</li>
<li><p>下载旷工程序</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git clone https://github.com/mimblewimble/grin-miner.git</span><br><span class="line">cd grin-miner</span><br></pre></td></tr></table></figure>
</li>
<li><p>挖矿方式配置，默认是cpu挖矿，这里要改成一下配置文件，构建的时候才有cuda的解码器,更改构建文件Cargo.toml</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">change:</span><br><span class="line">  cuckoo_miner = &#123; path = &quot;./cuckoo-miner&quot; &#125;</span><br><span class="line">  to:</span><br><span class="line">  cuckoo_miner = &#123; path = &quot;./cuckoo-miner&quot;, features = [&quot;build-cuda-plugins&quot;]&#125;</span><br></pre></td></tr></table></figure>
<p>找不到没关系，直接执行下面这个命令去更改</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sed -i &apos;s/^\(cuckoo_miner.*\)&#125;/\1, features = [&quot;build-cuda-plugins&quot;] &#125;/&apos; Cargo.toml</span><br></pre></td></tr></table></figure>
</li>
<li><p>Grin miner 开始构建</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git submodule update --init</span><br><span class="line">cargo build</span><br></pre></td></tr></table></figure>
<blockquote>
<p>构建完成的产物同样在grin-miner文件夹下的target文件夹下</p>
<p>最后一个如果是cargo build –release那就是打release包，在target/release下</p>
</blockquote>
</li>
<li><p>把产物的命令文件加入全局变量</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">export PATH=/&lt;yourPath&gt;/grin-miner/target/debug:$PATH</span><br></pre></td></tr></table></figure>
</li>
<li><p>解码器插件在target/debug/plugin下面，然后更改旷工配置文件，让它使用cuda plugin</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sed -i &apos;s/^plugin_name =.*/plugin_name = &quot;cuckaroo_cuda_29&quot;/&apos; grin-miner.toml</span><br></pre></td></tr></table></figure>
<blockquote>
<p>直接执行上面的sed命令更改grin-miner.toml 文件，或者自己打开grin-miner.toml去更改</p>
</blockquote>
</li>
<li><p>启动旷工</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">grin-miner//这个可执行文件在产物文件夹下，加入全局变量后，父目录执行</span><br></pre></td></tr></table></figure>
</li>
<li><p>然后看到旷工运行界面</p>
<p><img src="https://ws2.sinaimg.cn/large/c1b251b3gy1fz2q2ivb9fj210d0aodgf.jpg" alt="image"></p>
</li>
</ul>
<p>可以看到运行的插件情况</p>
<p><img src="https://ws2.sinaimg.cn/large/c1b251b3gy1fz2q3m78ioj20kb06waae.jpg" alt="image"></p>
<p>然后让这个保持运行</p>
<h4 id="查看钱包运行情况"><a href="#查看钱包运行情况" class="headerlink" title="查看钱包运行情况"></a>查看钱包运行情况</h4><ul>
<li>另起一个窗口</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">grin —floonet wellet info</span><br></pre></td></tr></table></figure>
<p><img src="https://wx4.sinaimg.cn/large/c1b251b3gy1fz2q78f14zj20hf04z74k.jpg" alt="image"></p>
<p>挖到了</p>
<p><img src="https://wx3.sinaimg.cn/large/c1b251b3gy1fz2qci9uuzj20gw05tt91.jpg" alt="image"></p>

      
    </div>
    <footer class="article-footer">
      <ul class="article-meta">
        <li>
          <span class="label">Published Date:</span>
          <a href="/2019/01/09/Grin 挖矿/" class="article-date">
  <time datetime="2019-01-09T10:00:58.000Z" itemprop="datePublished">2019-01-09</time>
</a>

        </li>
        
        
          <li>
            <span class="label">Tag:</span>
            
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/block-chain/">block-chain</a></li></ul>


          </li>
        
        <hr/>
      </ul>
    </footer>
  </div>
  
    
<nav id="article-nav" class="article-nav">
  
    <a href="/2019/02/12/Android快捷方式/" id="article-nav-newer" class="article-nav-link-wrap newer">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          Android例子-快捷方式
        
      </div>
    </a>
  
  
    <a href="/2018/12/26/Sophia基本语法/" id="article-nav-older" class="article-nav-link-wrap older">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">Sophia基本语法</div>
    </a>
  
</nav>


  
</article>




      </div>
      
    <footer id="footer" class="post-footer footer">
      <hr/>
      <div id="footerContent" class="footer-content">
        <p>老铁，我是底线</p>


      </div>
    </footer>

      

<script src="//cdn.bootcss.com/jquery/2.2.4/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/typing.js"></script>
<!--[if lt IE 9]><script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7/html5shiv.min.js"></script><![endif]-->







    </div>
  </body>
</html>
